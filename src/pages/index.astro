---
import '../styles/style.css';
import modelsData from '../data/models.json';
---

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/narrenhaeusel/assets/favicon.png" />
    <meta name="generator" content={Astro.generator} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Narrenhäusel</title>
  </head>
  <body>
    <div class="app-container">
      <div class="background-shape"></div>

      <div class="swipe-container" id="swipe-container">
        <div class="slides-wrapper" id="slides-wrapper">
          {modelsData.map((model, index) => (
            <div class="slide" data-index={index}>
              <!-- 3D Model Viewer -->
              <div class="model-viewer" id={`model-viewer-${index}`} data-model-path={model.modelPath}>
                <canvas id={`canvas-${index}`}></canvas>
              </div>

              <div class="content">
                <div class="coordinates">
                  <span>{model.coordinates.latitude}</span>
                  <span>{model.coordinates.longitude}</span>
                </div>

                <h1 class="title">{model.name}</h1>

                <p class="description">{model.description}</p>

                <button class="content-button">
                  <span class="ar-icon">⬡</span>
                  In Lebensgröße ansehen
                </button>
              </div>
            </div>
          ))}
        </div>

        <div class="pagination" id="pagination">
          {modelsData.map((_, index) => (
            <span class={`dot ${index === 0 ? 'active' : ''}`} data-index={index}></span>
          ))}
        </div>
      </div>

      <div class="button-container">
        <button class="ar-button" id="ar-button">
          <span class="ar-icon">⬡</span>
          In Lebensgröße ansehen
        </button>
      </div>
    </div>

    <script>
      import '../scripts/main';
    </script>
  </body>
</html>
